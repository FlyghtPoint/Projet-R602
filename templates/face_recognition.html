<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reconnaissance d'Expression Faciale</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/face_recognition.css') }}">
</head>
<body>
    <div class="app-container">
        <header>
            <h1><i class="fas fa-smile"></i> Reconnaissance d'Expression Faciale</h1>
            <p class="tagline">Analyseur d'expressions faciales en temps réel</p>
        </header>
        
        <div class="main-content">
            <div class="video-container">
                <video id="video" width="720" height="560" autoplay muted></video>
                <canvas id="overlay" width="720" height="560"></canvas>
                <div class="video-status">
                    <div class="status-indicator"></div>
                    <span>Détection en cours</span>
                </div>
            </div>

            <div class="emotion-panel">
                <div class="dominant-emotion container">
                    <h3>Émotion dominante</h3>
                    <div class="dominant-emotion-display">
                        <span id="dominant-emotion">Neutre</span>
                    </div>
                </div>

                <div class="emotions-container">
                    <h3>Répartition des émotions</h3>

                    <div class="emotion-progress">
                        <label><i class="fas fa-smile-beam"></i> Joie</label>
                        <div class="progress">
                            <div id="happy-bar" class="progress-bar bg-warning" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div> 
                        </div>
                        <span id="happy-value">0%</span>
                    </div>

                    <div class="emotion-progress">
                        <label><i class="fas fa-angry"></i> Colère</label>
                        <div class="progress">
                            <div id="angry-bar" class="progress-bar bg-danger" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <span id="angry-value">0%</span>
                    </div>
                    
                    <div class="emotion-progress">
                        <label><i class="fas fa-sad-tear"></i> Tristesse</label>
                        <div class="progress">
                            <div id="sad-bar" class="progress-bar bg-primary" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <span id="sad-value">0%</span>
                    </div>
                    
                    <div class="emotion-progress">
                        <label><i class="fas fa-surprise"></i> Surprise</label>
                        <div class="progress">
                            <div id="surprised-bar" class="progress-bar bg-success" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <span id="surprised-value">0%</span>
                    </div>
                    
                    <div class="emotion-progress">
                        <label><i class="fas fa-meh"></i> Neutre</label>
                        <div class="progress">
                            <div id="neutral-bar" class="progress-bar bg-secondary" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <span id="neutral-value">0%</span>
                    </div>
                    
                    <div class="emotion-progress">
                        <label><i class="fas fa-grimace"></i> Dégoût</label>
                        <div class="progress">
                            <div id="disgusted-bar" class="progress-bar bg-info" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <span id="disgusted-value">0%</span>
                    </div>
                    
                    <div class="emotion-progress">
                        <label><i class="fas fa-tired"></i> Peur</label>
                        <div class="progress">
                            <div id="fearful-bar" class="progress-bar bg-dark" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <span id="fearful-value">0%</span>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>Application de reconnaissance d'expressions faciales</p>
        </footer>
    </div>

    <script type="module" src="{{ url_for('static', filename='js/face_recognition.js') }}"></script>
</body>
</html>
